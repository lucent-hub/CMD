<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Lua Key Generator</title>
</head>
<body>
<h2>Lua Key Generator</h2>
<button id="loadBtn">Get Lua Key</button>
<p id="status"></p>

<script>
// Simulate fetching a key from a "server" without hardcoding URL
document.getElementById('loadBtn').addEventListener('click', async () => {
    const status = document.getElementById('status');
    status.textContent = "Fetching key...";

    try {
        // Simulate fetch (the URL is hidden / dynamic)
        function getKeyFromServer() {
            return new Promise(resolve => {
                setTimeout(() => {
                    const key = "idk lol"; // fetched secret, never in HTML source
                    resolve(key);
                }, 500);
            });
        }

        const key = await getKeyFromServer();

        // Generate Lua code dynamically
        const luaCode = `
-- Auto-generated Lua key
local key = "${key}"
print("key is " .. key)
`;

        console.log("Generated Lua code:\n" + luaCode);
        status.textContent = "Lua code generated! Check console.";
    } catch(err) {
        status.textContent = "Failed: " + err.message;
    }
});
</script>
</body>
</html>
